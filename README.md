# 项目介绍

这是一个手写的简易spring框架demo，手写代码简单还原了spring容器的大致流程。写完demo后，对spring的ioc，aop均有了更深刻的理解，对于框架中的反射使用也更为熟练了。


# 项目结构

![](./image/项目结构.png)

建议按照com.hx.test.DemoTest里的测试步骤来看源码。项目实现顺序如下：

（1）实现spring扫描指定包路径所有需要加入容器的class对象，利用spring容器管理各种bean。

（2）实现spring提供的各个扩展接口。

（3）通过各种扩展接口实现简单aop功能。

（4）实现依赖注入，解决循环依赖的问题。(通过代码更加清楚知道循环依赖为啥需要三级缓存)

是否可以使用一级缓存解决循环依赖问题？

可以，只需要实例化后就提前放入到一级缓存即可，但是会有多线程获取bean的问题，并且注入的bean没有aop代理。

是否可以使用二级缓存解决上面的问题？

可以用锁+二级缓存解决多线程获取bean的问题，可以实例化后就aop代理解决注入问题。结合一下，可以使用三级缓存最为优雅。

# 项目涉及知识点

(1)spring相关知识点（ioc机制，aop机制，bean的生命周期等等）

(2)java的反射机制

(3)java注解

